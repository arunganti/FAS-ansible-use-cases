- name: Creating HTTPS application
  hosts: localhost
  connection: local
  
#Environment variables defined
  environment:
    F5_USER: "{{ F5_Username }}"
    F5_PASSWORD: "{{ F5_Password }}"
    F5_SERVER_PORT: "{{ F5_Admin_Port }}" #"443"
    F5_VALIDATE_CERTS: "False"
    F5_SERVER: "{{ F5_IPAddress }}"
    
  vars:
   vip_name: "{{ VIP_Application }}"
   
  tasks: 
- name: Collect BIG-IP facts on Virtual Server
  bigip_device_facts:
    gather_subset:
      - virtual_server
      - virtual_address
    register: VIP_Info
 
 - debug: 
     msg: "{{ VIP_Info }}"
 
# - name: Create a redirect virtual server
#   bigip_virtual_server:
#     description: "Redirect Virtual server"   
#      name: "http_redirect"
#      destination: "{{private_ip}}"
#      port: 80
#      all_profiles:
#      - http
#      all_rules:
#      - _sys_https_redirect
